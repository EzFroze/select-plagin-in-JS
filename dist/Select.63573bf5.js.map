{"version":3,"sources":["select/select.js","index.js"],"names":["getTemplate","data","placeholder","selectedId","text","items","map","item","cls","id","value","join","Select","selector","options","$el","document","querySelector","event","type","target","dataset","toggle","select","close","$value","textContent","current","querySelectorAll","forEach","el","classList","remove","add","onSelect","isOpen","open","$arrow","removeEventListener","clickHandler","innerHTML","contains","find","bind","addEventListener","console","log","window","s"],"mappings":"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","file":"Select.63573bf5.js","sourceRoot":"..","sourcesContent":["const getTemplate = (data = [], placeholder, selectedId) => {\r\n    let text = placeholder ?? \"Placeholder по умолчанию\"\r\n    const items = data.map((item) => {\r\n        let cls = ''\r\n        if (item.id === selectedId) {\r\n            text = item.value\r\n            cls = \"selected\"\r\n        }\r\n        return `\r\n            <li class=\"select__item ${cls}\" data-type=\"item\" data-id=\"${item.id}\">${item.value}</li>\r\n        `\r\n    })\r\n\r\n    return `\r\n    <div class=\"select__backdrop\" data-type=\"backdrop\"></div>\r\n    <div class=\"select__input\" data-type=\"input\">\r\n        <span data-type=\"value\">${text}</span>\r\n        <i class=\"fa fa-chevron-down\" data-type=\"arrow\"></i>\r\n    </div>\r\n    <div class=\"select__dropdown\">\r\n        <ul class=\"select__list\">\r\n            ${items.join(\"\")}\r\n        </ul>\r\n    </div>\r\n    `\r\n}\r\n\r\nexport class Select {\r\n    constructor(selector, options) {\r\n        this.$el = document.querySelector(selector)\r\n        this.options = options\r\n        this.selectedId = options.selectedId\r\n\r\n        this.#render()\r\n        this.#setup()\r\n    }\r\n\r\n    #render() {\r\n        const {placeholder, data} = this.options\r\n\r\n        this.$el.classList.add(\"select\")\r\n        this.$el.innerHTML = getTemplate(data ,placeholder, this.selectedId)\r\n    }\r\n\r\n    #setup() {\r\n        this.clickHandler = this.clickHandler.bind(this)\r\n        this.$el.addEventListener(\"click\", this.clickHandler)\r\n        this.$arrow = this.$el.querySelector(\"[data-type='arrow']\")\r\n        this.$value = this.$el.querySelector(\"[data-type='value']\")\r\n    }\r\n\r\n    clickHandler(event) {\r\n        const {type} = event.target.dataset\r\n\r\n        if (type === \"input\") {\r\n            this.toggle()\r\n        } else if (type === \"item\") {\r\n            const id = event.target.dataset.id\r\n            this.select(id)\r\n        } else if (type === \"backdrop\") {\r\n            this.close()\r\n        }\r\n    }\r\n\r\n    get isOpen() {\r\n        return this.$el.classList.contains(\"open\")\r\n    }\r\n\r\n    get current () {\r\n        return this.options.data.find(item => item.id === this.selectedId)\r\n    }\r\n\r\n    select(id) {\r\n        this.selectedId = id\r\n        this.$value.textContent = this.current.value\r\n\r\n        this.$el.querySelectorAll(\"[data-type='item']\").forEach(el => {\r\n            el.classList.remove(\"selected\")\r\n        })\r\n        this.$el.querySelector(`[data-id=\"${id}\"]`).classList.add(\"selected\")\r\n\r\n        this.options.onSelect ? this.options.onSelect(this.current) : null\r\n\r\n        this.close()\r\n    }\r\n\r\n    toggle() {\r\n        this.isOpen ? this.close() : this.open()\r\n    }\r\n\r\n    open() {\r\n        this.$el.classList.add(\"open\")\r\n        this.$arrow.classList.remove(\"fa-chevron-down\")\r\n        this.$arrow.classList.add(\"fa-chevron-up\")\r\n    }\r\n\r\n    close() {\r\n        this.$el.classList.remove(\"open\")\r\n        this.$arrow.classList.remove(\"fa-chevron-up\")\r\n        this.$arrow.classList.add(\"fa-chevron-down\")\r\n    }\r\n\r\n    destroy() {\r\n        this.$el.removeEventListener(\"click\", this.clickHandler)\r\n        this.$el.innerHTML = \"\"\r\n    }\r\n}","import {Select} from \"./select/select\";\r\nimport \"./select/select.scss\"\r\n\r\nconst select = new Select(\"#select\", {\r\n    placeholder: \"Выбери пожалуйста элемент\",\r\n    selectedId: \"2\",\r\n    data: [\r\n        {id: \"1\", value: \"React\"},\r\n        {id: \"2\", value: \"Angular\"},\r\n        {id: \"3\", value: \"Vue\"},\r\n        {id: \"4\", value: \"React Native\"},\r\n        {id: \"5\", value: \"Next\"},\r\n        {id: \"6\", value: \"Nest\"},\r\n    ],\r\n    onSelect(item) {\r\n        console.log(\"Selected item\", item)\r\n    }\r\n})\r\n\r\nwindow.s = select"]}